# Running with kubernetes has several differences:
- Use config-k8s.edn instead of config.edn
- You need to set a path to the kube config with COOK_K8S_CONFIG_FILE

These are done for you in bin/run-kubernetes-local.sh


You'll need to setup several vitual environments to use run-local.sh and run-kubernetes-local.sh.
* One for building the CLI.
* One for running run-kubernetes-local.sh
* One for integration tests

# Setup. Detailed command lines.

- Set up minikube

# Run local tidbits

- Start datomic:

scheduler/bin/start-datomic.sh

- Seed pools

lein exec -p scheduler/datomic/data/seed_pools.clj datomic:free://localhost:4334/jobs

- Make namespace

kubectl create -f docs/make-kubernetes-namespace.json

- Run local. Its OK to free and restart.

COOK_DATOMIC_URI=datomic:free://localhost:4334/jobs scheduler/bin/run-kubernetes-local.sh

# Tools and help

- Get a kubernetes dashboard:
minikube dashboard

- Submit a test job

cs submit -i alpine:latest -c .01 -m 16 "echo 200" 
